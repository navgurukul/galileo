{
  "_args": [
    [
      {
        "raw": "gtoken@^1.2.1",
        "scope": null,
        "escapedName": "gtoken",
        "name": "gtoken",
        "rawSpec": "^1.2.1",
        "spec": ">=1.2.1 <2.0.0",
        "type": "range"
      },
      "/home/arch/galileo/node_modules/google-auth-library"
    ]
  ],
  "_from": "gtoken@>=1.2.1 <2.0.0",
  "_id": "gtoken@1.2.2",
  "_inCache": true,
  "_location": "/gtoken",
  "_nodeVersion": "4.4.5",
  "_npmOperationalInternal": {
    "host": "packages-12-west.internal.npmjs.com",
    "tmp": "tmp/gtoken-1.2.2.tgz_1489295569572_0.25653071817941964"
  },
  "_npmUser": {
    "name": "ryanseys",
    "email": "ryan@ryanseys.com"
  },
  "_npmVersion": "2.15.5",
  "_phantomChildren": {},
  "_requested": {
    "raw": "gtoken@^1.2.1",
    "scope": null,
    "escapedName": "gtoken",
    "name": "gtoken",
    "rawSpec": "^1.2.1",
    "spec": ">=1.2.1 <2.0.0",
    "type": "range"
  },
  "_requiredBy": [
    "/google-auth-library"
  ],
  "_resolved": "https://registry.npmjs.org/gtoken/-/gtoken-1.2.2.tgz",
  "_shasum": "172776a1a9d96ac09fc22a00f5be83cee6de8820",
  "_shrinkwrap": null,
  "_spec": "gtoken@^1.2.1",
  "_where": "/home/arch/galileo/node_modules/google-auth-library",
  "author": {
    "name": "Ryan Seys"
  },
  "bugs": {
    "url": "https://github.com/ryanseys/node-gtoken/issues"
  },
  "dependencies": {
    "google-p12-pem": "^0.1.0",
    "jws": "^3.0.0",
    "mime": "^1.2.11",
    "request": "^2.72.0"
  },
  "description": "Node.js Google Authentication Service Account Tokens",
  "devDependencies": {
    "mocha": "^2.0.1"
  },
  "directories": {},
  "dist": {
    "shasum": "172776a1a9d96ac09fc22a00f5be83cee6de8820",
    "tarball": "https://registry.npmjs.org/gtoken/-/gtoken-1.2.2.tgz"
  },
  "gitHead": "deb8410950d708c9cc272b151d7eaa45d0bacb1b",
  "homepage": "https://github.com/ryanseys/node-gtoken#readme",
  "keywords": [
    "google",
    "service",
    "account",
    "api",
    "token",
    "api",
    "auth"
  ],
  "license": "MIT",
  "main": "./lib/index.js",
  "maintainers": [
    {
      "name": "ryanseys",
      "email": "ryan@ryanseys.com"
    }
  ],
  "name": "gtoken",
  "optionalDependencies": {},
  "readme": "# node-gtoken\n\nNode.js Google Authentication Service Account Tokens\n\n[![Build Status](https://travis-ci.org/ryanseys/node-gtoken.svg?branch=master)](https://travis-ci.org/ryanseys/node-gtoken)\n\n## Installation\n\n``` sh\nnpm install gtoken\n```\n\n## Usage\n\n### Use with a `.pem` or `.p12` key file:\n\n``` js\nvar GoogleToken = require('gtoken');\nvar gtoken = GoogleToken({\n  keyFile: 'path/to/key.pem', // or path to .p12 key file\n  email: 'my_service_account_email@developer.gserviceaccount.com',\n  scope: ['https://scope1', 'https://scope2'] // or space-delimited string of scopes\n});\n\ngtoken.getToken(function(err, token) {\n  if (err) {\n    console.log(err);\n    return;\n  }\n  console.log(token);\n});\n```\n\n### Use with a service account `.json` key file:\n\n``` js\nvar GoogleToken = require('gtoken');\nvar gtoken = GoogleToken({\n  keyFile: 'path/to/key.json',\n  scope: ['https://scope1', 'https://scope2'] // or space-delimited string of scopes\n});\n\ngtoken.getToken(function(err, token) {\n  if (err) {\n    console.log(err);\n    return;\n  }\n  console.log(token);\n});\n```\n\n### Pass the private key as a string directly:\n\n``` js\nvar key = '-----BEGIN RSA PRIVATE KEY-----\\nXXXXXXXXXXX...';\nvar GoogleToken = require('gtoken');\nvar gtoken = GoogleToken({\n  email: 'my_service_account_email@developer.gserviceaccount.com',\n  scope: ['https://scope1', 'https://scope2'], // or space-delimited string of scopes\n  key: key\n});\n```\n\n## Options\n\n> Various options that can be set when creating initializing the `gtoken` object.\n\n- `options.email or options.iss`: The service account email address.\n- `options.scope`: An array of scope strings or space-delimited string of scopes.\n- `options.sub`: The email address of the user requesting delegated access.\n- `options.keyFile`: The filename of `.json` key, `.pem` key or `.p12` key.\n- `options.key`: The raw RSA private key value, in place of using `options.keyFile`.\n\n### .getToken(callback)\n\n> Returns the cached token or requests a new one and returns it.\n\n``` js\ngtoken.getToken(function(err, token) {\n  console.log(err || token);\n  // gtoken.token value is also set\n});\n```\n\n### Properties\n\n> Various properties set on the gtoken object after call to `.getToken()`.\n\n- `gtoken.token`: The access token.\n- `gtoken.expires_at`: The expiry date as milliseconds since 1970/01/01\n- `gtoken.key`: The raw key value.\n- `gtoken.raw_token`: Most recent raw token data received from Google.\n\n### .hasExpired()\n\n> Returns true if the token has expired, or token does not exist.\n\n``` js\ngtoken.getToken(function(err, token) {\n  if(token) {\n    gtoken.hasExpired(); // false\n  }\n});\n```\n\n### .revokeToken()\n\n> Revoke the token if set.\n\n``` js\ngtoken.revokeToken(function(err) {\n  if (err) {\n    console.log(err);\n    return;\n  }\n  console.log('Token revoked!');\n});\n```\n\n## Downloading your private `.p12` key from Google\n\n1. Open the [Google Developer Console][gdevconsole].\n2. Open your project and under \"APIs & auth\", click Credentials.\n3. Generate a new `.p12` key and download it into your project.\n\n## Converting your `.p12` key to a `.pem` key\n\nYou can just specify your `.p12` file (with `.p12` extension) as the `keyFile` and it will automatically be converted to a `.pem` on the fly, however this results in a slight performance hit. If you'd like to convert to a `.pem` for use later, use OpenSSL if you have it installed.\n\n``` sh\n$ openssl pkcs12 -in key.p12 -nodes -nocerts > key.pem\n```\n\nDon't forget, the passphrase when converting these files is the string `'notasecret'`\n\n## License\n\nMIT\n\n[gdevconsole]: https://console.developers.google.com\n",
  "readmeFilename": "README.md",
  "repository": {
    "type": "git",
    "url": "git+https://github.com/ryanseys/node-gtoken.git"
  },
  "scripts": {
    "test": "mocha --timeout 5000"
  },
  "version": "1.2.2"
}
